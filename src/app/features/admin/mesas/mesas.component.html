<div class="mesas-container">
  <h2>GestiÃ³n de Mesas</h2>

  <div class="form-card" *ngIf="esAdmin">
    <h3>Crear nueva mesa</h3>

    <form (ngSubmit)="crearMesa()">
      <input
        type="number"
        placeholder="NÃºmero de mesa"
        [(ngModel)]="nuevaMesa.numero"
        name="numero"
        required
      />

      <button type="submit">Crear mesa</button>
    </form>
  </div>

  <div class="grid">
    <div class="mesa-card" *ngFor="let mesa of mesas" [ngClass]="mesa.estado" (click)="seleccionarMesa(mesa)">
      <h3>Mesa {{ mesa.numero }}</h3>
      <p class="estado">{{ mesa.estado }}</p>

      <div class="acciones">
        <button *ngIf="mesa.estado !== 'LIBRE'" (click)="cambiarEstado(mesa, 'LIBRE')">
          Marcar libre
        </button>
        <button *ngIf="mesa.estado !== 'OCUPADA'" (click)="cambiarEstado(mesa, 'OCUPADA')">
          Ocupar
        </button>
        <button *ngIf="mesa.estado !== 'RESERVADA'" (click)="cambiarEstado(mesa, 'RESERVADA')">
          Reservar
        </button>
        <button class="btn-eliminar" *ngIf="esAdmin" (click)="eliminarMesa(mesa.id)">
          Eliminar
        </button>

      </div>
    </div>
  </div>
</div>

